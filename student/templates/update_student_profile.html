
{% extends 'base_form.html' %}
{% load crispy_forms_tags %}

{% block content %}
<style>
    /* Add vertical space between fields */
.form-group {
    margin-bottom: 30px; /* Increase this value as needed */
}

.form-group label {
    font-weight: 500;
    font-size: medium;
}
.rounded-box{
    border-radius: 15px;
}
.rounded-box-sm{
    border-radius: 10px;
}
.episode{
    border-color: gray;
    border-width: 2px;
}
.episode-title
{
    color:blue;
    margin-bottom: 2px;
}
.episode-description{
    font-size: .80rem;
}
.activity-title
{
    font-size: .9rem;
    font-weight: 500;
    color:black;
}
.text-blue{
 color:blue;
}
.text-red{
    color:brown;
}
.bg-blue{
 background-color:blue;
 color:white;
}
.text-bold-light{
    font-weight: 500;
}
.add-resource-link{
    font-size: .8rem;
    font-weight: 450;
}
.add-link{
    font-size: .8rem;
    font-weight: 600;
}

</style>

<div class="min-vh-100 d-flex flex-column">
    <div class="container">
        <!-- Top white bar -->
        <div class="py-3 px-0">
            <h5 class="m-0">Update Profile</h5>
        </div>
    </div>
    <div class="bg-light border-top shadow-sm min-vh-100 d-flex flex-column ">
        <!-- Light grey background section -->
        <div class="container  py-4">
            <div class="row">
                <div class="col col-lg-4 col-md-6 col-sm-12">
                    <div class="d-flex">
                       <div class="text-success">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 12h4l3-3m0 6l-3-3H3m18 0h-4l-3 3m0-6l3 3h4"></path>
                        </svg>
                       </div> 
                       <h6 class="text-base font-bold">
                            Update your profile
                       </h6>
                    </div>

                </div>
                <div class="col col-lg-8 col-md-6 col-sm-12 bg-white p-5 shadow-sm rounded-box">
                    <div class="content-section">
                        <div class="media">
                            <img class="rounded-circle account-img" src="{{ user.profile.avatar.url }}">
                            <div class="media-body">
                                <h2 class="account-heading">{{ user.username }}</h2>
                                <p class="text-secondary">{{ user.email }}</p>
                            </div>
                        </div>
                        <form method="POST" enctype="multipart/form-data">
                            {% csrf_token %}
                            <fieldset class="form-group">
                                <legend class="border-bottom mb-4">Profile Info</legend>
                                {{ u_form.as_p }}
                                {{ p_form.as_p }}
                                <legend class="border-bottom mb-4">Student Information</legend>
                                {{ form.as_p }}  <!-- Changed from sp_form to form for class-based view -->
                            </fieldset>
                            <div class="form-group">
                                <button class="btn btn-outline-info" type="submit">Update</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>   
        </div>
        <div class="my-2"></div>
    </div>
</div>
{% endblock %}

